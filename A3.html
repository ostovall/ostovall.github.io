<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Assignment 3 – Light-Controlled Buzzer</title>
<style>
  body { font-family: Arial, sans-serif; margin: 40px; background-color: #f9f9f9; }
  h1, h2 { color: #003366; }
  img, video { max-width: 600px; border: 2px solid #ccc; margin: 10px 0; }
  code { background-color: #eee; padding: 3px 6px; }
</style>
</head>
<body>

<h1>Assignment 3 – Light-Controlled Buzzer (Photoresistor + Arduino)</h1>

<h2>Overview</h2>
<p>
This project uses a photoresistor (LDR) in a voltage divider to detect light levels and a passive buzzer as an output device. 
When it’s bright, the buzzer is silent; in darkness, it plays a tone whose frequency increases as the light level decreases.
</p>

<h2>Schematic</h2>
<img src="schematic3.png" alt="LDR Buzzer Schematic">
<p>The schematic shows the LDR (R1) connected to 5V and a fixed 10kΩ resistor (R2) to ground, forming a voltage divider. 
The midpoint connects to analog pin A0. The buzzer is connected to digital pin 9 and ground.</p>

<h2>Circuit</h2>
<img src="breadboard_photo.jpg" alt="Breadboard Circuit">
<p>This photo shows the physical circuit using an Arduino Uno, LDR, 10kΩ resistor, and passive buzzer. 
The LDR’s resistance changes with light intensity, altering the voltage read at A0.</p>

<h2>Animated Demonstration</h2>
<video controls src="light_sensor_demo.mp4"></video>
<p>In this short clip, covering the LDR causes the buzzer to activate and increase in pitch as the light decreases.</p>

<h2>Code</h2>
<pre><code>
// Passive buzzer + LDR final version
// Buzzer OFF in bright light, ON in dark. Tone varies with darkness.

int sensorPin = A0;    // LDR voltage divider input
int buzzerPin = 9;     // Passive buzzer pin
int sensorValue = 0;   // Store sensor reading
int toneFreq = 0;      // Store mapped tone frequency

const int THRESH = 400;  // Bright above this → off, dark below → on

void setup() {
  Serial.begin(9600);           // Start serial communication for debugging
  pinMode(buzzerPin, OUTPUT);   // Set buzzer pin as output
}

void loop() {
  sensorValue = analogRead(sensorPin); // Read LDR voltage (0–1023)

  // If it's bright, buzzer OFF
  if (sensorValue > THRESH) {
    noTone(buzzerPin); // Stop buzzer tone
  }
  // If it's dark, buzzer ON, frequency depends on how dark it is
  else {
    toneFreq = map(sensorValue, 0, THRESH, 2000, 300);
    tone(buzzerPin, toneFreq); // Play mapped frequency
  }

  // Print readings for debugging
  Serial.print("Light level: ");
  Serial.print(sensorValue);
  Serial.print(" | ");
  if (sensorValue > THRESH) Serial.println("Buzzer OFF");
  else {
    Serial.print("Freq: ");
    Serial.println(toneFreq);
  }

  delay(100);
}
</code></pre>

<h2>Serial Output Example</h2>
<pre>
Light level: 723 | Buzzer OFF
Light level: 278 | Freq: 1340
Light level: 95  | Freq: 1870
</pre>

<h2>Value Justification</h2>
<p>
The 10kΩ resistor provides a good balance between light and dark sensitivity. The threshold (400) 
was chosen experimentally to distinguish between bright and dim indoor light. 
Tone frequency ranges from 300Hz to 2000Hz for a clear audible response.
</p>

<h2>Voltage Divider Calculations</h2>
<p>
For R1 (LDR) = 1kΩ (bright): Vout ≈ 4.54V → analogRead ≈ 930<br>
For R1 = 100kΩ (dark): Vout ≈ 0.45V → analogRead ≈ 90<br>
This validates our threshold selection near 400 as a midpoint between those extremes.
</p>

<h2>Reflection Questions</h2>
<p><b>Q1:</b> Can the variable resistor be either R1 or R2?</p>
<p>Yes, but it reverses the output behavior. If the LDR is on the top (R1), increasing light raises output voltage; 
if on bottom (R2), increasing light lowers it. You choose based on desired logic direction.</p>

<p><b>Q2:</b> Voltage vs Time Graph</p>
<img src="voltage_time_graph.png" alt="Voltage over time graph">
<p>As light decreases, the output voltage (Vout) rises, producing a higher analog value and buzzer tone frequency.</p>

<p><b>Q3:</b> What if analogWrite and analogRead had 10-bit and 16-bit resolution?</p>
<p>With 16-bit ADC and 10-bit PWM, the <code>map()</code> call would change to:
<code>map(sensorValue, 0, 65535, 2000, 300)</code>. 
This would produce finer control and smoother tone transitions.</p>

<h2>Conclusion</h2>
<p>
This project demonstrates how a photoresistor can control a non-LED output device using analog readings. 
It successfully integrates <code>analogRead()</code>, <code>analogWrite()</code>, <code>map()</code>, and conditional logic 
to create an interactive light-sensitive buzzer system.
</p>

</body>
</html>
